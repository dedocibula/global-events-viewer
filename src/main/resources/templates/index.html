<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layout">
<head>
    <title>Term Cloud</title>

    <!-- Slider CSS -->
    <link href="css/filters.css" rel="stylesheet"/>

    <!-- Term cloud CSS -->
    <link href="css/term.cloud.css" rel="stylesheet"/>

    <!-- D3 word cloud -->
    <script src="js/d3.layout.cloud.js"></script>

    <!-- Term cloud js -->
    <script src="js/term.cloud.js"></script>

    <!-- Slider js -->
    <script src="js/filters.js"></script>
</head>
<body>
<!-- Page Content -->
<section layout:fragment="content">
    <div class="container-fluid" style="height: inherit">
        <div class="row text-center" style="height: inherit">
            <div id="timeline" class="col-md-2" style="height: inherit">
                <label for="slider" title="Select year range">Timeline</label>
                <hr/>
                <div id="slider"></div>
                <button id="search-terms" class="ui-button ui-corner-all ui-widget">
                    <span class="glyphicon glyphicon-search"></span> Search Terms
                </button>
            </div>
            <div id="term-cloud" class="col-md-8">
                <h2>Most Popular Terms</h2>
                <div id="term-cloud-canvas"></div>
            </div>
            <div id="filters" class="col-md-2">
                <div>
                    <label for="counter" title="Select term count">Term Count</label>
                    <hr/>
                    <input id="counter" name="count" value="50"/>
                </div>
                <div style="margin-top: 20px">
                    <label for="events" title="Select specific events">Events</label>
                    <hr/>
                    <div id="events"></div>
                </div>
            </div>
        </div>
    </div>
    <script th:inline="javascript" type="application/javascript">
        $(document).ready(function () {
            var maxDateRange =/*[[${maxDateRange}]]*/ {from: "2000-01-01", to: "2017-01-01"};
            maxDateRange.from = +maxDateRange.from.split("-")[0];
            maxDateRange.to = +maxDateRange.to.split("-")[0];
            setupFilters(maxDateRange);
        });
    </script>
</section>
</body>
</html>
